{"version":3,"sources":["componets/Filter.js","componets/PersonForm.js","componets/Persons.js","services/persons.js","componets/MessageInfo.js","App.js","index.js"],"names":["Filter","query","handleQuery","value","onChange","PersonForm","newName","handleNames","newNumber","handleNumbers","addPerson","type","onClick","Persons","filterPersons","deletePersonId","map","p","name","number","baseUrl","axios","get","then","response","data","newObj","post","id","delete","put","MessageInfo","message","error","className","App","useState","persons","setPersons","setNewName","setNumber","setQuery","setMessage","setError","useEffect","personService","filter","toLowerCase","search","updatePersonNumber","person","find","updateObj","setTimeout","catch","e","target","preventDefault","window","confirm","newPerson","concat","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.456dbd1e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ query, handleQuery }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={query} onChange={handleQuery} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, handleNames, newNumber, handleNumbers, addPerson }) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNames} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumbers} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={addPerson}>add</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ filterPersons, deletePersonId }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                filterPersons.map(p => <div key={p.name}>{p.name} {p.number}<button onClick={() => deletePersonId(p)}>delete</button></div>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = 'api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = (newObj) => {\r\n    const request = axios.post(baseUrl, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst modifyPerson = newObj => {\r\n    const request = axios.put(`${baseUrl}/${newObj.id}`, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    createPerson,\r\n    deletePerson,\r\n    modifyPerson\r\n}","import React from 'react'\r\nimport '../App.css'\r\nconst MessageInfo = ({ message, error }) => {\r\n    if (error) {\r\n        return (\r\n            <div className='error'>{message}</div>\r\n        )\r\n    }\r\n    return (\r\n        <div className='success'>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageInfo\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './componets/Filter'\nimport PersonForm from './componets/PersonForm'\nimport Persons from './componets/Persons'\nimport personService from './services/persons'\nimport MessageInfo from './componets/MessageInfo'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNumber] = useState('')\n  const [query, setQuery] = useState('')\n  const [message, setMessage] = useState('')\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n\n  }, [])\n\n  let filterPersons = persons.filter(p => p.name.toLowerCase().search(query.toLowerCase()) > -1\n  )\n\n  const handleQuery = (e) => {\n    setQuery(e.target.value)\n  }\n\n  const handleNames = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumbers = (e) => {\n    setNumber(e.target.value)\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n\n    if (persons.find(person => newName.toLowerCase() === person.name.toLowerCase())) {\n      if (window.confirm(`${newName} is alredy added to phonebook, replace the old number with a new one?`)) {\n        updatePersonNumber(newName)\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .createPerson(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setMessage(`Added ${newPerson.name}`)\n          setTimeout(() => {\n            setMessage('')\n          }, 5000)\n        })\n        .catch(error => {\n          setMessage(`Information of ${newPerson.name} has alredy been removed from server.`)\n          setError(true)\n          setTimeout(() => {\n            setMessage('')\n            setError(false)\n          }, 5000);\n        })\n    }\n\n    setNewName('')\n    setNumber('')\n  }\n\n\n  const deletePersonId = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n\n      personService\n        .deletePerson(person.id)\n        .then(response => {\n          const newPersons = persons.filter(p => p.id != person.id)\n          setMessage(`Deleted ${person.name}`)\n          setPersons(newPersons)\n          setTimeout(() => {\n            setMessage('')\n          }, 5000)\n        })\n        .catch(error => {\n          setMessage(`Information of ${person.name} has alredy been removed from server.`)\n          setError(true)\n          setTimeout(() => {\n            setMessage('')\n            setError(false)\n          }, 5000);\n        })\n    }\n\n  }\n\n  const updatePersonNumber = (name) => {\n    const person = persons.find(p => p.name === name)\n    const updateObj = { ...person, number: newNumber }\n    personService\n      .modifyPerson(updateObj)\n      .then(response => {\n        setPersons(persons.map(p => p.id !== updateObj.id ? p : response))\n        setMessage(`Updated ${name}`)\n        setTimeout(() => {\n          setMessage('')\n        }, 5000)\n      })\n      .catch(error => {\n        setMessage(`Information of ${person.name} has alredy been removed from server.`)\n        setError(true)\n        setTimeout(() => {\n          setMessage('')\n          setError(false)\n        }, 5000);\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message && <MessageInfo message={message} error={error} />}\n      <Filter query={query} handleQuery={handleQuery} />\n      <form>\n        <h2>add a new</h2>\n        <PersonForm newName={newName} handleNames={handleNames} newNumber={newNumber} handleNumbers={handleNumbers} addPerson={addPerson} />\n      </form>\n      <h2>Numbers</h2>\n      <Persons filterPersons={filterPersons} deletePersonId={deletePersonId} />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}